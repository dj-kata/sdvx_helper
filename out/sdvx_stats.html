<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>hoge</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=RocknRoll+One&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&display=swap" rel="stylesheet">
        <style>
            body { 
                padding:0px;
                margin:0px;
                overflow: hidden;
                font-family:"RockRoll One";
                color:#2196F3;   
                font-size: 64px;
                color: #fff;
                text-shadow: 6px 6px 0 #000,
                             -2px 2px 0 #000,
                             2px -2px 0 #000,
                             -2px -2px 0 #000;
            }
            iframe{
                overflow: hidden;
                -moz-box-sizing:border-box;
                box-sizing: border-box;
                border: none;
                padding: 0px;
                margin: 0px;
            }
            .all{
                margin: 0px;
                padding: 0px;
                overflow: hidden;
                background-image: url("stat_bg.png");
                background-color: rgba(0, 0, 30, 0.8);
                background-repeat: no-repeat;
                background-size: cover;
                background-position: center;
                background-blend-mode:overlay;
            }
            .info{
                font-family: "Dela Gothic One";
                overflow: hidden;
                margin:0px;
                padding: 0px;
                text-align: center;
            }
            .titlearea{
                font-family: "RocknRoll One";
                background: linear-gradient(
                    150deg
                    ,rgba(0,0,60,0.9)
                    ,rgba(35,85,205,0.9)
                ); 
                color:#f8b178;
                padding:0px;
                margin:0px;
                text-align: center;
                text-shadow: 6px 6px    0 #222299,
                             -2px 2px   0 #222299,
                             2px -2px   0 #222299,
                             -2px -2px  0 #222299;
                font-size:40px;
            }
            viewsubtitle{
                color:#aaffaa;
                font-size:30px;
            }
            table{
                width:60%;
                margin: auto;
            }
            table tr:nth-child(1) {
                font-size:24px
            }
            table tr:nth-child(2) {
                font-size:80px
            }
            .base-frame {
                background-color: rgba(0, 0, 0, 0);
                display: flex;
                flex-direction: row;
                overflow: hidden;
                margin: 0px;
                padding: 0px;
                margin-bottom:60px;
            }
            .left-frame {
                border: 4px solid white;
                -moz-box-sizing:border-box;
                box-sizing: border-box;
                margin: 0px;
                padding: 0px;
                padding-top: 40px;
                margin-left: 40px;
                margin-top: 47px;
                width: 70%;
                height: 76.5%;
                position: relative;
            }
            .right-frame {
                font-family: "RocknRoll One";
                border: 4px solid white;
                -moz-box-sizing:border-box;
                box-sizing: border-box;
                margin: 0px;
                padding:0px;
                margin-left: 40px;
                padding-left: 40px;
                padding-right: 40px;
                padding-bottom: 20px;
                padding-top: 20px;
                margin-top: 47px;
                margin-right: 40px;
                width: 30%;
                height: 77%;
                font-size: 32px;
                position: relative;
            }
            table#info{
                font-family: "RocknRoll One";
                font-size: 70px;
                width:75%;
                margin: 0px;
                padding: 0px;
                text-align:right;
                overflow: hidden;
            }
            .otherinfo td{
                padding-left:20%;
                width:70%;
                text-align: right;
                overflow: hidden;
            }
            div#chart_histogram{
                margin-top:3%;
            }
            .titlelabel {
                text-align: center;
                position: absolute;
                display: inline-block;
                top: -45px; /*タブ調整 */
                left: 0px; /*タブ調整 */
                padding-top: 0px;
                padding-left: 0px;
                height: 40px;
                width: 200px;
                font-size: 30px;
                font-weight: bold;
                color: #000;
                background-color: #ddddff; /* タイトル背景色 */
                border: 1px solid #ddddff; /* タイトル枠線 */
                border-radius: 10px 10px 0 0;
                font-family:"LINE Seed JP App_TTF ExtraBold";
                bottom: 100%;
                text-shadow:
                    1px 1px 1px #fff, -1px -1px 1px #fff,
                    -1px 1px 1px #fff, 1px -1px 1px #fff,
                    1px 1px 1px #fff, -1px -1px 1px #fff,
                    1px 1px 1px #fff, 1px -1px 1px  #fff;
            }
            .lv14{background-color: rgba(10,10,40,0.1)}
            .lv15{background-color: rgba(10,10,40,0.1)}
            .lv16{background-color: rgba(10,10,40,0.1)}
            .lv17{background-color: rgba(10,10,40,0.1)}
            .lv18{background-color: rgba(10,10,40,0.1)}
            .lv19{background-color: rgba(10,10,40,0.1)}
            .lv20{background-color: rgba(10,10,40,0.1)}
            .lv14score{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv15score{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv16score{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv17score{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv18score{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv19score{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv20score{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv14lamp{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv15lamp{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv16lamp{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv17lamp{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv18lamp{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv19lamp{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .lv20lamp{
                height: 20px;
                width: 100%;
                display: flex;
                flex-direction: row; /* 要素を横に並べる */
                justify-content: space-evenly; /* 要*/
                margin-right: 2%;
                border:4px solid #000000;
            }
            .puc{
                background-color: #ffff00;
                border: 2px fff;
                width: 0%;
            }
            .uc{
                background-color: #ff7777;
                border: 2px fff;
                width: 0%;
            }
            .hard{
                background-color: #ff77ff;
                border: 2px fff;
                width: 0%;
            }
            .clear{
                background-color: #77ff77;
                border: 2px fff;
                width: 0%;
            }
            @keyframes flashfailed {
                0%   { background-color: #ff2828; }
                50%  { background-color: #282828; }
                100% { background-color: #ff2828; }
            }
            .failed{
                animation-name: flashfailed;
                animation-duration: 0.08s;
                animation-iteration-count: infinite;
                border: 2px fff;
                width: 0%;
            }
            .noplay{
                background-color: #777777;
                border: 2px fff;
                width: 100%;
            }
            .rank_s{
                background-color: #ffff00;
                border: 2px fff;
                width: 0%;
            }
            .rank_aaa_plus{
                background-color: #77ffff;
                border: 2px fff;
                width: 0%;
            }
            .rank_aaa{
                background-color: #7777ff;
                border: 2px fff;
                width: 0%;
            }
            .rank_under_aaa{
                background-color: #777777;
                border: 2px fff;
                width: 100%;
            }
        </style>
    <body>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script>
        function loadXml() {
            var getxml = $.ajax({
                url: './stats.xml',
                type: 'GET',
                dataType: 'xml',
                cache: false
            });
            getxml.done(function(xml){
                // xmlデータからほしいデータをfindで探し処理
                var out = "";
                var date = $(xml).find("stats date").text();
                var player_name = $(xml).find("stats player_name").text();
                var total_vf = $(xml).find("stats total_vf").text();
                $('playdate').text(date);
                $('total_vf').text(total_vf);
                $('player_name').text(player_name);
                var vmax=0
                var sum=0
                $(xml).find("stats lvs").each(function(index, item){
                    var lv            = Number($(item).find('lv').text());
                    var average       = Number($(item).find('average').text());
                    var puc           = Number($(item).find('puc').text());
                    var uc            = Number($(item).find('uc').text());
                    var hard          = Number($(item).find('hard').text());
                    var clear         = Number($(item).find('clear').text());
                    var failed        = Number($(item).find('failed').text());
                    var noplay        = Number($(item).find('noplay').text());
                    var rank_s        = Number($(item).find('s').text());
                    var rank_aaa_plus = Number($(item).find('aaa_plus').text());
                    var rank_aaa      = Number($(item).find('aaa').text());
                    var rank_aa_plus = Number($(item).find('aa_plus').text());
                    var rank_aa      = Number($(item).find('aa').text());
                    var rank_a_plus = Number($(item).find('a_plus').text());
                    var rank_a      = Number($(item).find('a').text());
                    var rank_b      = Number($(item).find('b').text());
                    var rank_c      = Number($(item).find('c').text());
                    var rank_d      = Number($(item).find('d').text());
                    var total_lamp = puc+uc+hard+clear+failed+noplay;
                    var total_score = total_lamp;
                    var rank_under_aaa = total_score - rank_s - rank_aaa_plus - rank_aaa;
    		        $('.lv'+lv).find('lv').text(lv);
    		        $('.lv'+lv).find('average').text(average.toLocaleString());
    		        $('.lv'+lv).find('puc').text(puc);
    		        $('.lv'+lv).find('uc').text(uc);
    		        $('.lv'+lv).find('hard').text(hard);
    		        $('.lv'+lv).find('clear').text(clear);
    		        $('.lv'+lv).find('rank_s').text(rank_s);
    		        $('.lv'+lv).find('rank_aaa_plus').text(rank_aaa_plus);
    		        $('.lv'+lv).find('rank_aaa').text(rank_aaa);
    		        $('.lv'+lv).find('rank_aa_plus').text(rank_aa_plus);
    		        $('.lv'+lv).find('rank_aa').text(rank_aa);
    		        $('.lv'+lv).find('rank_a_plus').text(rank_a_plus);
    		        $('.lv'+lv).find('rank_a').text(rank_a);
    		        $('.lv'+lv).find('rank_b').text(rank_b);
    		        $('.lv'+lv).find('rank_c').text(rank_c);
    		        $('.lv'+lv).find('rank_d').text(rank_d);
    		        $('.lv'+lv).find('rank_under_aaa').text(rank_under_aaa);
    		        $('.lv' + lv).find('.lamp').find('hard').css('width',   100*hard / total_lamp+'%');
    		        $('.lv' + lv +'lamp').find('.noplay').css('width',   100*noplay / total_lamp+'%');
    		        $('.lv' + lv +'lamp').find('.failed').css('width',   100*failed / total_lamp+'%');
    		        $('.lv' + lv +'lamp').find('.clear').css('width',    100*clear  / total_lamp+'%');
    		        $('.lv' + lv +'lamp').find('.hard').css('width',     100*hard   / total_lamp+'%');
    		        $('.lv' + lv +'lamp').find('.uc').css('width',       100*uc     / total_lamp+'%');
    		        $('.lv' + lv +'lamp').find('.puc').css('width',      100*puc    / total_lamp+'%');
    		        $('.lv' + lv +'score').find('.rank_s').css('width',        100*rank_s / total_score+'%');
    		        $('.lv' + lv +'score').find('.rank_aaa_plus').css('width', 100*rank_aaa_plus / total_score+'%');
    		        $('.lv' + lv +'score').find('.rank_aaa').css('width', 100*rank_aaa / total_score+'%');
    		        $('.lv' + lv +'score').find('.rank_under_aaa').css('width', 100*rank_under_aaa / total_score+'%');
                });
            });
            getxml.fail(function(err) {
                //alert('failed');
            });
        }
        window.addEventListener('DOMContentLoaded', function () {
            var roopTimer = setInterval(loadXml, 1000);
        });

</script>
</head>
<body>
    <div class="all">
        <div class="info">
            <div class="titlearea">
                SOUND VOLTEX (PC ver.) VOLFORCE Target Charts&nbsp;&nbsp;&nbsp;
                <viewsubtitle>powered by sdvx_helper</viewsubtitle>
            </div>
            <br>
            <table>
                <tr>
                    <td>date</td>
                    <td>player name</td>
                    <td>class</td>
                    <td>volforce</td>
                </tr>
                <tr>
                    <td><playdate></playdate></td>
                    <td><player_name></player_name></td>
                    <td><img src="class_cur.png" height="120px"></td>
                    <td><total_vf></total_vf></td>
                </tr>
            </table>
        </div>
        <div class="base-frame">
            <div class="left-frame">
                <span class="titlelabel">VF charts</span>
                <iframe src="total_vf.html" width="100%" height="1630" id="right"></iframe>
            </div>
            <div class="right-frame">
                <span class="titlelabel">Stats</span>
                <div class="lv14">
                    Lv<lv></lv> &nbsp;&nbsp;&nbsp;&nbsp;average: <average></average><br>
                    <font color="#ffffcc">PUC:</font><puc></puc>,&nbsp; 
                    <font color="#ff7777">UC:</font><uc></uc>,&nbsp; 
                    <font color="#ff77ff">EXC:</font><hard></hard>,&nbsp; 
                    <font color="#77ff77">COMP:</font><clear></clear>,&nbsp; 
                    <div class="lv14lamp">
                        <div class="puc"></div>
                        <div class="uc"></div>
                        <div class="hard"></div>
                        <div class="clear"></div>
                        <div class="failed"></div>
                        <div class="noplay"></div>
                    </div>
                    <font color="#ffff00">S:</font><rank_s></rank_s>,&nbsp; 
                    <font color="#77ffff">AAA+:</font><rank_aaa_plus></rank_aaa_plus>,&nbsp; 
                    <font color="#7777ff">AAA:</font><rank_aaa></rank_aaa>,&nbsp; 
                    <div class="lv14score">
                        <div class="rank_s"></div>
                        <div class="rank_aaa_plus"></div>
                        <div class="rank_aaa"></div>
                        <div class="rank_under_aaa"></div>
                    </div>
                </div>
                <br>

                <div class="lv15">
                    Lv<lv></lv> &nbsp;&nbsp;&nbsp;&nbsp;average:<average></average><br>
                    <font color="#ffffcc">PUC:</font><puc></puc>,&nbsp; 
                    <font color="#ff7777">UC:</font><uc></uc>,&nbsp; 
                    <font color="#ff77ff">EXC:</font><hard></hard>,&nbsp; 
                    <font color="#77ff77">COMP:</font><clear></clear>,&nbsp; 
                    <div class="lv15lamp">
                        <div class="puc"></div>
                        <div class="uc"></div>
                        <div class="hard"></div>
                        <div class="clear"></div>
                        <div class="failed"></div>
                        <div class="noplay"></div>
                    </div>
                    <font color="#ffff00">S:</font><rank_s></rank_s>,&nbsp; 
                    <font color="#77ffff">AAA+:</font><rank_aaa_plus></rank_aaa_plus>,&nbsp; 
                    <font color="#7777ff">AAA:</font><rank_aaa></rank_aaa>,&nbsp; 
                    <div class="lv15score">
                        <div class="rank_s"></div>
                        <div class="rank_aaa_plus"></div>
                        <div class="rank_aaa"></div>
                        <div class="rank_under_aaa"></div>
                    </div>
                </div>
                <br>

                <div class="lv16">
                    Lv<lv></lv> &nbsp;&nbsp;&nbsp;&nbsp;average:<average></average><br>
                    <font color="#ffffcc">PUC:</font><puc></puc>,&nbsp; 
                    <font color="#ff7777">UC:</font><uc></uc>,&nbsp; 
                    <font color="#ff77ff">EXC:</font><hard></hard>,&nbsp; 
                    <font color="#77ff77">COMP:</font><clear></clear>,&nbsp; 
                    <div class="lv16lamp">
                        <div class="puc"></div>
                        <div class="uc"></div>
                        <div class="hard"></div>
                        <div class="clear"></div>
                        <div class="failed"></div>
                        <div class="noplay"></div>
                    </div>
                    <font color="#ffff00">S:</font><rank_s></rank_s>,&nbsp; 
                    <font color="#77ffff">AAA+:</font><rank_aaa_plus></rank_aaa_plus>,&nbsp; 
                    <font color="#7777ff">AAA:</font><rank_aaa></rank_aaa>,&nbsp; 
                    <div class="lv16score">
                        <div class="rank_s"></div>
                        <div class="rank_aaa_plus"></div>
                        <div class="rank_aaa"></div>
                        <div class="rank_under_aaa"></div>
                    </div>
                </div>
                <br>

                <div class="lv17">
                    Lv<lv></lv> &nbsp;&nbsp;&nbsp;&nbsp;average:<average></average><br>
                    <font color="#ffffcc">PUC:</font><puc></puc>,&nbsp; 
                    <font color="#ff7777">UC:</font><uc></uc>,&nbsp; 
                    <font color="#ff77ff">EXC:</font><hard></hard>,&nbsp; 
                    <font color="#77ff77">COMP:</font><clear></clear>,&nbsp; 
                    <div class="lv17lamp">
                        <div class="puc"></div>
                        <div class="uc"></div>
                        <div class="hard"></div>
                        <div class="clear"></div>
                        <div class="failed"></div>
                        <div class="noplay"></div>
                    </div>
                    <font color="#ffff00">S:</font><rank_s></rank_s>,&nbsp; 
                    <font color="#77ffff">AAA+:</font><rank_aaa_plus></rank_aaa_plus>,&nbsp; 
                    <font color="#7777ff">AAA:</font><rank_aaa></rank_aaa>,&nbsp; 
                    <div class="lv17score">
                        <div class="rank_s"></div>
                        <div class="rank_aaa_plus"></div>
                        <div class="rank_aaa"></div>
                        <div class="rank_under_aaa"></div>
                    </div>
                </div>
                <br>

                <div class="lv18">
                    Lv<lv></lv> &nbsp;&nbsp;&nbsp;&nbsp;average:<average></average><br>
                    <font color="#ffffcc">PUC:</font><puc></puc>,&nbsp; 
                    <font color="#ff7777">UC:</font><uc></uc>,&nbsp; 
                    <font color="#ff77ff">EXC:</font><hard></hard>,&nbsp; 
                    <font color="#77ff77">COMP:</font><clear></clear>,&nbsp; 
                    <div class="lv18lamp">
                        <div class="puc"></div>
                        <div class="uc"></div>
                        <div class="hard"></div>
                        <div class="clear"></div>
                        <div class="failed"></div>
                        <div class="noplay"></div>
                    </div>
                    <font color="#ffff00">S:</font><rank_s></rank_s>,&nbsp; 
                    <font color="#77ffff">AAA+:</font><rank_aaa_plus></rank_aaa_plus>,&nbsp; 
                    <font color="#7777ff">AAA:</font><rank_aaa></rank_aaa>,&nbsp; 
                    <div class="lv18score">
                        <div class="rank_s"></div>
                        <div class="rank_aaa_plus"></div>
                        <div class="rank_aaa"></div>
                        <div class="rank_under_aaa"></div>
                    </div>
                </div>
                <br>

                <div class="lv19">
                    Lv<lv></lv> &nbsp;&nbsp;&nbsp;&nbsp;average:<average></average><br>
                    <font color="#ffffcc">PUC:</font><puc></puc>,&nbsp; 
                    <font color="#ff7777">UC:</font><uc></uc>,&nbsp; 
                    <font color="#ff77ff">EXC:</font><hard></hard>,&nbsp; 
                    <font color="#77ff77">COMP:</font><clear></clear>,&nbsp; 
                    <div class="lv19lamp">
                        <div class="puc"></div>
                        <div class="uc"></div>
                        <div class="hard"></div>
                        <div class="clear"></div>
                        <div class="failed"></div>
                        <div class="noplay"></div>
                    </div>
                    <font color="#ffff00">S:</font><rank_s></rank_s>,&nbsp; 
                    <font color="#77ffff">AAA+:</font><rank_aaa_plus></rank_aaa_plus>,&nbsp; 
                    <font color="#7777ff">AAA:</font><rank_aaa></rank_aaa>,&nbsp; 
                    <div class="lv19score">
                        <div class="rank_s"></div>
                        <div class="rank_aaa_plus"></div>
                        <div class="rank_aaa"></div>
                        <div class="rank_under_aaa"></div>
                    </div>
                </div>
                <br>

                <div class="lv20">
                    Lv<lv></lv> &nbsp;&nbsp;&nbsp;&nbsp;average:<average></average><br>
                    <font color="#ffffcc">PUC:</font><puc></puc>,&nbsp; 
                    <font color="#ff7777">UC:</font><uc></uc>,&nbsp; 
                    <font color="#ff77ff">EXC:</font><hard></hard>,&nbsp; 
                    <font color="#77ff77">COMP:</font><clear></clear>,&nbsp; 
                    <div class="lv20lamp">
                        <div class="puc"></div>
                        <div class="uc"></div>
                        <div class="hard"></div>
                        <div class="clear"></div>
                        <div class="failed"></div>
                        <div class="noplay"></div>
                    </div>
                    <font color="#ffff00">S:</font><rank_s></rank_s>,&nbsp; 
                    <font color="#77ffff">AAA+:</font><rank_aaa_plus></rank_aaa_plus>,&nbsp; 
                    <font color="#7777ff">AAA:</font><rank_aaa></rank_aaa>,&nbsp; 
                    <div class="lv20score">
                        <div class="rank_s"></div>
                        <div class="rank_aaa_plus"></div>
                        <div class="rank_aaa"></div>
                        <div class="rank_under_aaa"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>